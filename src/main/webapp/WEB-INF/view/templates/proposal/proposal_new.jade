extends ../../layout/default

block content

    script(src="/wro/proposals.js")

    div(ng-app="ProposalApp")

        div(class="o-page-header")
            h3= title

        div(ng-controller="NewProposalController as newProposal", ng-init="loadFormData()")

            div(class="container")
                form(name="form", novalidate, class="css-form")
                    fieldset
                        div
                            span
                                label Client:
                            span
                                select(ng-options="client.id as client.name for client in clients",
                                    ng-model="proposal.client.id", required)
                                    option(value="") -- Please select --
                        div
                            span
                                label Project:
                            span
                                input(type="text", ng-model="proposal.project", name="pProject", required)
                            div(ng-show="form.pProject.$error.required")
                                span What's the name of the project?

                    button(ng-click="reset()", ng-disabled="isUnchanged(proposal)", class="btn") Reset
                    button(ng-click="update(proposal)", ng-disabled="form.$invalid || isUnchanged(proposal)", class="btn btn-primary") Save
